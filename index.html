<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <div id="container">
        
        <h1>To-do List</h1>

        <div id="div-input">
            <input
                type="text"
                id="nova-tarefa"/>
            <button id="adiciona-tarefa" type="button">Adicionar</button>
        </div>

        <div id="div-lista">
            <ul id="lista-tarefas">
                <li class="tarefa-item">
                    <input type="checkbox" id="tarefa1" class="tarefa"/>
                    <label for="tarefa1">Tarefa 1</label>
                </li>
            </ul>
        </div>
    </div>
</body>
<script>
    //Adicionar tarefas.
    document.addEventListener('DOMContentLoaded', function(){
        const input = document.getElementById('nova-tarefa');
        const botao = document.getElementById('adiciona-tarefa');
        const lista = document.getElementById('lista-tarefas');
        
        botao.addEventListener('click', function() {
            const texto = input.value.trim();

            if (texto !== ''){
                const idTarefa = 'tarefa-' + Date.now();
                const li = document.createElement('li');
                li.className = "tarefa-item";

                li.innerHTML = `
                    <input type="checkbox" id="${idTarefa}" class="tarefa""/>
                    <label for="${idTarefa}">${texto}</label>
                `;

                lista.appendChild(li);
                input.value = '';
            }
        });

        //Marcar como concluídas. Delegação de Eventos
        lista.addEventListener('change', function (event) {
            if (event.target && event.target.matches('input[type="checkbox"].tarefa')) {
                const checkbox = event.target;
                const label = checkbox.nextElementSibling;

                if (checkbox.checked) {
                    label.style.textDecoration = 'line-through';
                } else {
                    label.style.textDecoration = 'none';
                }
            }
        });
    });

    //Remover tarefas.
</script>
</html>